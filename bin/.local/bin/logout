#!/bin/sh

THEMESTR="listview{lines:2;columns: 3;}"
THEMESTR+="inputbar{children:[prompt];}"
MENU="󰗽 Logout| Restart|󰒲 Suspend|󰐥 Shutdown"
PROMPT="System Exit"

ROFI=$(rofi -dmenu -no-default-config -p "$PROMPT" -sep "|" -theme-str "$THEMESTR" <<< $MENU)

# if [ -z $ROFI ]; then
# 	exit
# fi

case $ROFI in
	*Logout)
		kill $(pidof polybar)
		kill $(pidof picom)
		kill $(pidof bspwm)
		kill $(pidof sxhkd)
		pkill -KILL -u $USER ;;
	*Restart)
		systemctl reboot ;;
	*Suspend)
		i3lock-fancy
		systemctl suspend ;;
	*Shutdown)
		systemctl poweroff ;;
esac
